.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Lowlevel\Integrity

.. php:class:: DatabaseIntegrityCheck

   This class holds functions used by the TYPO3 backend to check the integrity
   of the database (The DBint module, 'lowlevel' extension)
   
   Depends on \TYPO3\CMS\Core\Database\RelationHandler
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php>`__.

   
   .. php:method:: getPageTranslatedPageIDArray()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L103>`__.
      
      :returntype: array
      
   .. php:method:: genTree(int $theID, bool $versions)
   
      Generates a list of Page-uid's that corresponds to the tables in the tree.
      
      This list should ideally include all records in the pages-table.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L115>`__.
      
      :param int $theID: a pid (page-record id) from which to start making the tree
      :param bool $versions: Internal variable, don't set from outside!
      
   .. php:method:: genTree_records(int $theID, string $table, bool $versions)
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L185>`__.
      
      :param int $theID: a pid (page-record id) from which to start making the tree
      :param string $table: Table to get the records from
      :param bool $versions: Internal variable, don't set from outside!
      
   .. php:method:: lostRecords(string $pid_list)
   
      Fills $this->lRecords with the records from all tc-tables that are not attached to a PID in the pid-list.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L228>`__.
      
      :param string $pid_list: list of pid's (page-record uid's). This list is probably made by genTree()
      
   .. php:method:: fixLostRecord(string $table, int $uid)
   
      Fixes lost record from $table with uid $uid by setting the PID to zero.
      
      If there is a disabled column for the record that will be set as well.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L279>`__.
      
      :param string $table: Database tablename
      :param int $uid: The uid of the record which will have the PID value set to 0 (zero)
      :returntype: bool
      :returns: TRUE if done.
      
   .. php:method:: countRecords(string $pid_list)
   
      Counts records from $GLOBALS['TCA']-tables that ARE attached to an existing page.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L303>`__.
      
      :param string $pid_list: list of pid's (page-record uid's). This list is probably made by genTree()
      :returntype: array
      :returns: an array with the number of records from all $GLOBALS['TCA']-tables that are attached to a PID in the pid-list.
      
   .. php:method:: getGroupFields()
   
      Finding relations in database based on type 'group' (database-uid's in a list)
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L360>`__.
      
      :returntype: array
      :returns: An array with all fields listed that somehow are references to other records (foreign-keys)
      
   .. php:method:: selectNonEmptyRecordsWithFkeys()
   
      This selects non-empty-records from the tables/fields in the fkey_array generated by getGroupFields()
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L385>`__.
      
      
   .. php:method:: testDBRefs(array $theArray)
   
      Depends on selectNonEmpty.... to be executed first!!
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L503>`__.
      
      :param array $theArray: Table with key/value pairs being table names and arrays with uid numbers
      :returntype: string
      :returns: HTML Error message
      
   .. php:method:: getPageIdArray()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L546>`__.
      
      :returntype: array
      
   .. php:method:: getCheckGroupDBRefs()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L554>`__.
      
      :returntype: array
      
   .. php:method:: getCheckSelectDBRefs()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L562>`__.
      
      :returntype: array
      
   .. php:method:: getRecStats()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L570>`__.
      
      :returntype: array
      
   .. php:method:: getLRecords()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L578>`__.
      
      :returntype: array
      
   .. php:method:: getLostPagesList()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/lowlevel/Classes/Integrity/DatabaseIntegrityCheck.php#L586>`__.
      
      :returntype: string
