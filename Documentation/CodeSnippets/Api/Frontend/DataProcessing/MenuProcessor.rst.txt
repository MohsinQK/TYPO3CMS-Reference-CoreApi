.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Frontend\DataProcessing

.. php:class:: MenuProcessor

   This menu processor utilizes HMENU to generate a json encoded menu
   string that will be decoded again and assigned to FLUIDTEMPLATE as
   variable. Additional DataProcessing is supported and will be applied
   to each record.
   
   Options:
   as - The variable to be used within the result
   levels - Number of levels of the menu
   expandAll = If false, submenus will only render if the parent page is active
   includeSpacer = If true, pagetype spacer will be included in the menu
   titleField = Field that should be used for the title
   
   See HMENU docs for more options.
   https://docs.typo3.org/typo3cms/TyposcriptReference/ContentObjects/Hmenu/Index.html
   
   
   Example TypoScript configuration:
   
   10 = TYPO3\CMS\Frontend\DataProcessing\MenuProcessor
   10 {
     special = list
     special.value.field = pages
     levels = 7
     as = menu
     expandAll = 1
     includeSpacer = 1
     titleField = nav_title // title
     dataProcessing {
       10 = TYPO3\CMS\Frontend\DataProcessing\FilesProcessor
       10 {
          references.fieldName = media
       }
     }
   }
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php>`__.

   .. php:const:: LINK_PLACEHOLDER
   
      :php:`'###LINKPLACEHOLDER###'`, type string
      
      .. php:const:: TARGET_PLACEHOLDER
   
      :php:`'###TARGETPLACEHOLDER###'`, type string
      
      
   .. php:attr:: allowedConfigurationKeys
   
      Allowed configuration keys for menu generation, other keys
      will throw an exception to prevent configuration errors.
      
      
   .. php:attr:: removeConfigurationKeysForHmenu
   
      Remove keys from configuration that should not be passed
      to HMENU to prevent configuration errors
      
      
   .. php:attr:: menuDefaults
   
      
   .. php:method:: setContentObjectRenderer()
   
      This is called from UserContentObject via ContentObjectRenderer->callUserFunction()
      for nested menu items - those use a USER content object for getDataAsJson().
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L264>`__.
      
      
   .. php:method:: validateConfiguration()
   
      Validate configuration
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L285>`__.
      
      
   .. php:method:: prepareConfiguration()
   
      Prepare Configuration
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L301>`__.
      
      
   .. php:method:: prepareLevelConfiguration()
   
      Prepare configuration for a certain menu level in the hierarchy
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L320>`__.
      
      
   .. php:method:: prepareLevelLanguageConfiguration()
   
      Prepare the configuration when rendering a language menu
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L335>`__.
      
      
   .. php:method:: buildConfiguration()
   
      Build the menu configuration so it can be treated by HMENU cObject
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L371>`__.
      
      
   .. php:method:: process(\ContentObjectRenderer $cObj, array $contentObjectConfiguration, array $processorConfiguration, array $processedData)
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L428>`__.
      
      :param \ContentObjectRenderer $cObj: The data of the content element or page
      :param array $contentObjectConfiguration: The configuration of Content Object
      :param array $processorConfiguration: The configuration of this processor
      :param array $processedData: Key/value store of processed data (e.g. to be passed to a Fluid View)
      
   .. php:method:: getDataAsJson()
   
      Gets the data of the current record in JSON format
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L497>`__.
      
      
   .. php:method:: jsonEncodeUserFunc()
   
      This UserFunc encodes the content as Json
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L509>`__.
      
      
   .. php:method:: jsonEncode()
   
      JSON Encode
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L521>`__.
      
      
   .. php:method:: replacePlaceholderInRenderedMenuItem()
   
      This UserFunc gets the link and the target
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/frontend/Classes/DataProcessing/MenuProcessor.php#L533>`__.
