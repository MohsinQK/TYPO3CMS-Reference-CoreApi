.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Core\Authentication

.. php:class:: AuthenticationService

   Authentication services class
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php>`__.

   .. php:attr:: pObj
   
      User object
      
      
   .. php:attr:: mode
   
      Subtype of the service which is used to call the service.
      
      
   .. php:attr:: login
   
      Submitted login form data
      
      
   .. php:attr:: authInfo
   
      Various data
      
      
   .. php:attr:: db_user
   
      User db table definition
      
      
   .. php:attr:: writeAttemptLog
   
      If the writelog() functions is called if a login-attempt has be tried without success
      
      
   .. php:attr:: info
   
      
   .. php:method:: processLoginData(array $loginData, string $passwordTransmissionStrategy)
   
      Process the submitted credentials.
      
      In this case hash the clear text password if it has been submitted.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php#L40>`__.
      
      :param array $loginData: Credentials that are submitted and potentially modified by other services
      :param string $passwordTransmissionStrategy: Keyword of how the password has been hashed or encrypted before submission
      
   .. php:method:: getUser()
   
      Find a user (eg. look up the user record in database when a login is sent)
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php#L56>`__.
      
      
   .. php:method:: authUser(array $user)
   
      Authenticate a user: Check submitted user credentials against stored hashed password.
      
      Returns one of the following status codes:
      >= 200: User authenticated successfully. No more checking is needed by other auth services.
      >= 100: User not authenticated; this service is not responsible. Other auth services will be asked.
      > 0:    User authenticated successfully. Other auth services will still be asked.
      <= 0:   Authentication failed, no more checking needed by other auth services.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php#L102>`__.
      
      :param array $user: User data
      :returntype: int
      :returns: Authentication status code, one of 0, 100, 200
      
   .. php:method:: initAuth(string $mode, array $loginData, array $authInfo, \AbstractUserAuthentication $pObj)
   
      Initialize authentication service
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php#L86>`__.
      
      :param string $mode: Subtype of the service which is used to call the service.
      :param array $loginData: Submitted login form data
      :param array $authInfo: Information array. Holds submitted form data etc.
      :param \AbstractUserAuthentication $pObj: Parent object
      
   .. php:method:: writelog(int $type, int $action, int $error, int $details_nr, string $details, array $data, string $tablename, int|string $recuid, int|string $recpid)
   
      Writes to log database table in pObj
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php#L110>`__.
      
      :param int $type: denotes which module that has submitted the entry. This is the current list:  1=tce_db; 2=tce_file; 3=system (eg. sys_history save); 4=modules; 254=Personal settings changed; 255=login / out action: 1=login, 2=logout, 3=failed login (+ errorcode 3), 4=failure_warning_email sent
      :param int $action: denotes which specific operation that wrote the entry (eg. 'delete', 'upload', 'update' and so on...). Specific for each $type. Also used to trigger update of the interface. (see the log-module for the meaning of each number !!)
      :param int $error: flag. 0 = message, 1 = error (user problem), 2 = System Error (which should not happen), 3 = security notice (admin)
      :param int $details_nr: The message number. Specific for each $type and $action. in the future this will make it possible to translate error messages to other languages
      :param string $details: Default text that follows the message
      :param array $data: Data that follows the log. Might be used to carry special information. If an array the first 5 entries (0-4) will be sprintf'ed the details-text...
      :param string $tablename: Special field used by tce_main.php. These ($tablename, $recuid, $recpid) holds the reference to the record which the log-entry is about. (Was used in attic status.php to update the interface.)
      :param int|string $recuid: Special field used by tce_main.php. These ($tablename, $recuid, $recpid) holds the reference to the record which the log-entry is about. (Was used in attic status.php to update the interface.)
      :param int|string $recpid: Special field used by tce_main.php. These ($tablename, $recuid, $recpid) holds the reference to the record which the log-entry is about. (Was used in attic status.php to update the interface.)
      
   .. php:method:: fetchUserRecord(string $username, string $extraWhere, array|string $dbUserSetup)
   
      Get a user from DB by username
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php#L125>`__.
      
      :param string $username: User name
      :param string $extraWhere: Additional WHERE clause: " AND ...
      :param array|string $dbUserSetup: User db table definition, or empty string for $this->db_user
      
   .. php:method:: setLogger()
   
      Sets a logger.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Authentication/AuthenticationService.php#L21>`__.
