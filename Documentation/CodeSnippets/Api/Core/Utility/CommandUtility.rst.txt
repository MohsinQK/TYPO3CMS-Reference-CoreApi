.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Core\Utility

.. php:class:: CommandUtility

   Class to handle system commands.
   
   finds executables (programs) on Unix and Windows without knowing where they are
   
   returns exec command for a program
   or FALSE
   
   This class is meant to be used without instance:
   $cmd = CommandUtility::getCommand ('awstats','perl');
   
   The data of this class is cached.
   That means if a program is found once it don't have to be searched again.
   
   user functions:
   
   addPaths() could be used to extend the search paths
   getCommand() get a command string
   checkCommand() returns TRUE if a command is available
   
   Search paths that are included:
   $TYPO3_CONF_VARS['GFX']['processor_path']
   $TYPO3_CONF_VARS['SYS']['binPath']
   $GLOBALS['_SERVER']['PATH']
   '/usr/bin/,/usr/local/bin/' on Unix
   
   binaries can be preconfigured with
   $TYPO3_CONF_VARS['SYS']['binSetup']
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php>`__.

   
   .. php:method:: exec(string command, array output = NULL, int returnValue = 0)
   
      Wrapper function for php exec function
      
      Needs to be central to have better control and possible fix for issues
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L81>`__.
      
      :param string $command: the command
      :param array $output: the output, default: NULL
      :param int $returnValue: the returnValue, default: 0
      :returntype: string
      
   .. php:method:: imageMagickCommand(string $command, string $parameters, string $path)
   
      Compile the command for running ImageMagick/GraphicsMagick.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L94>`__.
      
      :param string $command: Command to be run: identify, convert or combine/composite
      :param string $parameters: The parameters string
      :param string $path: Override the default path (e.g. used by the install tool)
      :returntype: string
      :returns: Compiled command that deals with ImageMagick & GraphicsMagick
      
   .. php:method:: checkCommand(string $cmd, string $handler)
   
      Checks if a command is valid or not, updates global variables
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L160>`__.
      
      :param string $cmd: The command that should be executed. eg: "convert"
      :param string $handler: Executor for the command. eg: "perl"
      :returntype: int|bool
      :returns: True if the command is valid; False if cmd is not found; -1 if the handler is not found
      
   .. php:method:: getCommand(string $cmd, string $handler, string $handlerOpt)
   
      Returns a command string for exec(), system()
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L232>`__.
      
      :param string $cmd: The command that should be executed. eg: "convert"
      :param string $handler: Handler (executor) for the command. eg: "perl"
      :param string $handlerOpt: Options for the handler, like '-w' for "perl"
      :returntype: string|int|bool
      :returns: Returns command string, or FALSE if cmd is not found, or -1 if the handler is not found
      
   .. php:method:: addPaths(string $paths)
   
      Extend the preset paths. This way an extension can install an executable and provide the path to \TYPO3\CMS\Core\Utility\CommandUtility
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L262>`__.
      
      :param string $paths: Comma separated list of extra paths where a command should be searched. Relative paths (without leading "/") are prepend with public web path
      
   .. php:method:: getPaths(bool $addInvalid)
   
      Returns an array of search paths
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L273>`__.
      
      :param bool $addInvalid: If set the array contains invalid path too. Then the key is the path and the value is empty
      :returntype: array
      :returns: Array of search paths (empty if exec is disabled)
      
   .. php:method:: escapeShellArguments(string[] $input)
   
      Escape shell arguments (for example filenames) to be used on the local system.
      
      The setting UTF8filesystem will be taken into account.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L434>`__.
      
      :param string[] $input: Input arguments to be escaped
      :returntype: array
      :returns: Escaped shell arguments
      
   .. php:method:: escapeShellArgument(string $input)
   
      Escape a shell argument (for example a filename) to be used on the local system.
      
      The setting UTF8filesystem will be taken into account.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/CommandUtility.php#L490>`__.
      
      :param string $input: Input-argument to be escaped
      :returntype: string
      :returns: Escaped shell argument
