.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Core\Utility

.. php:class:: MailUtility

   Class to handle mail specific functionality
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/MailUtility.php>`__.

   .. php:method:: getSystemFrom()
   
      Gets a valid "from" for mail messages (email and name).
      
      Ready to be passed to $mail->setFrom()
      
      This method can return three different variants:
      1. An assoc. array: key => Valid email address which can be used as sender; value => Valid name which can be used as a sender
      2. A numeric array with one entry: Valid email address which can be used as sender
      3. Null, if no address is configured
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/MailUtility.php#L38>`__.
      
      :returntype: array
      
   .. php:method:: getSystemFromName()
   
      Creates a valid "from" name for mail messages.
      
      As configured in Install Tool.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/MailUtility.php#L58>`__.
      
      :returntype: string
      :returns: The name (unquoted, unformatted). NULL if none is set or an invalid non-string value.
      
   .. php:method:: getSystemFromAddress()
   
      Creates a valid email address for the sender of mail messages.
      
      Uses a fallback chain:
      $TYPO3_CONF_VARS['MAIL']['defaultMailFromAddress'] ->
      no-reply@FirstDomainRecordFound ->
      no-reply@php_uname('n') ->
      no-reply@example.com
      
      Ready to be passed to $mail->setFrom()
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/MailUtility.php#L78>`__.
      
      :returntype: string
      :returns: An email address
      
   .. php:method:: getSystemReplyTo()
   
      Gets a default "reply-to" for mail messages (email and name).
      
      Ready to be passed to $mail->setReplyTo()
      
      This method returns a list of email addresses, but depending on the existence of "defaultMailReplyToName"
      the array can have a different shape:
      
      1. An assoc. array: key => a valid reply-to address which can be used as sender; value => a valid reply-to name which can be used as a sender
      2. A numeric array with one entry: a valid reply-to address which can be used as sender
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/MailUtility.php#L106>`__.
      
      :returntype: array
      
   .. php:method:: breakLinesForEmail(string $str, string $newlineChar, int $lineWidth)
   
      Breaks up a single line of text for emails
      Words - longer than $lineWidth - will not be split into parts
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/MailUtility.php#L132>`__.
      
      :param string $str: The string to break up
      :param string $newlineChar: The string to implode the broken lines with (default/typically \n)
      :param int $lineWidth: The line width
      :returntype: string
      :returns: Reformatted text
      
   .. php:method:: parseAddresses(string $rawAddresses)
   
      Parses mailbox headers and turns them into an array.
      
      Mailbox headers are a comma separated list of 'name <email@example.org>' combinations
      or plain email addresses (or a mix of these).
      The resulting array has key-value pairs where the key is either a number
      (no display name in the mailbox header) and the value is the email address,
      or the key is the email address and the value is the display name.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Utility/MailUtility.php#L182>`__.
      
      :param string $rawAddresses: Comma separated list of email addresses (optionally with display name)
      :returntype: array
      :returns: Parsed list of addresses.
