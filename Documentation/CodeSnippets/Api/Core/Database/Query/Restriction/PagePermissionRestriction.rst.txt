.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Core\Database\Query\Restriction

.. php:class:: PagePermissionRestriction

   Restriction to make queries respect backend user rights for pages.
   
   Adds a WHERE-clause for the pages-table where user permissions according to input argument, $permissions, is validated.
   $permissions is the "mask" used to select - see Permission Bitset.
   E.g. if $perms is 1 then you'll get all pages that a user can actually see!
   2^0 = show (1)
   2^1 = edit (2)
   2^2 = delete (4)
   2^3 = new (8)
   If the user is 'admin' no validation is used.
   
   If the user is not set at all (->user is not an array), then "AND 1=0" is returned (will cause no selection results at all)
   
   The 95% use of this function is "->getPagePermsClause(1)" which will
   return WHERE clauses for *selecting* pages in backend listings - in other words this will check read permissions.
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Database/Query/Restriction/PagePermissionRestriction.php>`__.

   
   .. php:method:: buildExpression(array $queriedTables, \ExpressionBuilder $expressionBuilder)
   
      Main method to build expressions for given tables
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Database/Query/Restriction/PagePermissionRestriction.php#L65>`__.
      
      :param array $queriedTables: Array of tables, where array key is table alias and value is a table name
      :param \ExpressionBuilder $expressionBuilder: Expression builder instance to add restrictions with
      :returntype: TYPO3\\CMS\\Core\\Database\\Query\\Expression\\CompositeExpression
      :returns: The result of query builder expression(s)
