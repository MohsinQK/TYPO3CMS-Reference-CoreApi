.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Core\Resource\Processing

.. php:class:: LocalPreviewHelper

   Helper for creating local image previews using TYPO3s image processing classes.
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Processing/LocalPreviewHelper.php>`__.

   
   .. php:method:: preProcessConfiguration()
   
      Enforce default configuration for preview processing
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Processing/LocalPreviewHelper.php#L45>`__.
      
      :returntype: array
      
   .. php:method:: process()
   
      This method actually does the processing of files locally
      
      takes the original file (on remote storages this will be fetched from the remote server)
      does the IM magic on the local server by creating a temporary typo3temp/ file
      copies the typo3temp/ file to the processing folder of the target storage
      removes the typo3temp/ file
      
      The returned array has the following structure:
        width => 100
        height => 200
        filePath => /some/path
      
      If filePath isn't set but width and height are the original file is used as ProcessedFile
      with the returned width and height. This is for example useful for SVG images.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Processing/LocalPreviewHelper.php#L79>`__.
      
      
   .. php:method:: processWithLocalFile()
   
      Does the heavy lifting prescribed in processTask()
      except that the processing can be performed on any given local image
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Processing/LocalPreviewHelper.php#L102>`__.
      
      :returntype: array
