.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Core\Resource\Driver

.. php:class:: LocalDriver

   Driver for the local file system
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php>`__.

   .. php:const:: UNSAFE_FILENAME_CHARACTER_EXPRESSION
   
      :php:`'\\x00-\\x2C\\/\\x3A-\\x3F\\x5B-\\x60\\x7B-\\xBF'`, type string
      
      
   
   .. php:method:: mergeConfigurationCapabilities()
   
      Merges the capabilities merged by the user at the storage
      configuration into the actual capabilities of the driver
      and returns the result.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L97>`__.
      
      
   .. php:method:: processConfiguration()
   
      Processes the configuration for this driver.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L107>`__.
      
      
   .. php:method:: initialize()
   
      Initializes this object. This is called by the storage after the driver
      has been attached.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L121>`__.
      
      
   .. php:method:: getPublicUrl()
   
      Returns the public URL to a file.
      
      For the local driver, this will always return a path relative to public web path.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L189>`__.
      
      
   .. php:method:: getRootLevelFolder()
   
      Returns the Identifier of the root level folder of the storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L206>`__.
      
      
   .. php:method:: getDefaultFolder()
   
      Returns identifier of the default folder new files should be put into.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L216>`__.
      
      
   .. php:method:: createFolder()
   
      Creates a folder, within a parent folder.
      
      If no parent folder is given, a rootlevel folder will be created
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L235>`__.
      
      
   .. php:method:: getFileInfoByIdentifier(string $fileIdentifier, array $propertiesToExtract)
   
      Returns information about a file.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L263>`__.
      
      :param string $fileIdentifier: In the case of the LocalDriver, this is the (relative) path to the file.
      :param array $propertiesToExtract: Array of properties which should be extracted, if empty all will be extracted
      
   .. php:method:: getFolderInfoByIdentifier(string $folderIdentifier)
   
      Returns information about a folder.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L284>`__.
      
      :param string $folderIdentifier: In the case of the LocalDriver, this is the (relative) path to the file.
      
   .. php:method:: sanitizeFileName(string $fileName, string $charset)
   
      Returns a string where any character not matching [.a-zA-Z0-9_-] is
      substituted by '_'
      Trailing dots are removed
      
      Previously in \TYPO3\CMS\Core\Utility\File\BasicFileUtility::cleanFileName()
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L316>`__.
      
      :param string $fileName: Input string, typically the body of a fileName
      :param string $charset: Charset of the a fileName (defaults to utf-8)
      
   .. php:method:: getFileInFolder()
   
      Returns a file inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L454>`__.
      
      
   .. php:method:: getFilesInFolder(array $filenameFilterCallbacks, string $sort, bool $sortRev)
   
      Returns a list of files inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L475>`__.
      
      :param array $filenameFilterCallbacks: The method callbacks to use for filtering the items
      :param string $sort: Property name used to sort the items.
      Among them may be: '' (empty, no sorting), name,
      fileext, size, tstamp and rw.
      If a driver does not support the given property, it
      should fall back to "name".
      :param bool $sortRev: TRUE to indicate reverse sorting (last to first)
      
   .. php:method:: countFilesInFolder(array $filenameFilterCallbacks)
   
      Returns the number of files inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L488>`__.
      
      :param array $filenameFilterCallbacks: callbacks for filtering the items
      
   .. php:method:: getFoldersInFolder(array $folderNameFilterCallbacks, string $sort, bool $sortRev)
   
      Returns a list of folders inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L510>`__.
      
      :param array $folderNameFilterCallbacks: The method callbacks to use for filtering the items
      :param string $sort: Property name used to sort the items.
      Among them may be: '' (empty, no sorting), name,
      fileext, size, tstamp and rw.
      If a driver does not support the given property, it
      should fall back to "name".
      :param bool $sortRev: TRUE to indicate reverse sorting (last to first)
      
   .. php:method:: countFoldersInFolder(array $folderNameFilterCallbacks)
   
      Returns the number of folders inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L523>`__.
      
      :param array $folderNameFilterCallbacks: callbacks for filtering the items
      
   .. php:method:: getSpecificFileInformation()
   
      Extracts a specific FileInformation from the FileSystems.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L688>`__.
      
      
   .. php:method:: hash(string $hashAlgorithm)
   
      Creates a (cryptographic) hash for a file.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L754>`__.
      
      :param string $hashAlgorithm: The hash algorithm to use
      
   .. php:method:: addFile(string $localFilePath, string $newFileName, bool $removeOriginal)
   
      Adds a file from the local server hard disk to a given path in TYPO3s virtual file system.
      
      This assumes that the local file exists, so no further check is done here!
      After a successful the original file must not exist anymore.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L785>`__.
      
      :param string $localFilePath: within public web path
      :param string $newFileName: optional, if not given original name is used
      :param bool $removeOriginal: if set the original file will be removed after successful operation
      
   .. php:method:: fileExists()
   
      Checks if a file exists.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L826>`__.
      
      
   .. php:method:: fileExistsInFolder()
   
      Checks if a file inside a folder exists
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L839>`__.
      
      
   .. php:method:: folderExists()
   
      Checks if a folder exists.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L853>`__.
      
      
   .. php:method:: folderExistsInFolder()
   
      Checks if a folder inside a folder exists.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L866>`__.
      
      
   .. php:method:: getFolderInFolder(string $folderName)
   
      Returns the Identifier for a folder within a given folder.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L880>`__.
      
      :param string $folderName: The name of the target folder
      
   .. php:method:: replaceFile()
   
      Replaces the contents (and file-specific metadata) of a file object with a local file.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L894>`__.
      
      
   .. php:method:: copyFileWithinStorage()
   
      Copies a file *within* the current storage.
      
      Note that this is only about an intra-storage copy action, where a file is just
      copied to another folder in the same storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L919>`__.
      
      
   .. php:method:: moveFileWithinStorage()
   
      Moves a file *within* the current storage.
      
      Note that this is only about an inner-storage move action, where a file is just
      moved to another folder in the same storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L942>`__.
      
      
   .. php:method:: moveFolderWithinStorage()
   
      Folder equivalent to moveFileWithinStorage().
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1048>`__.
      
      
   .. php:method:: copyFolderWithinStorage()
   
      Folder equivalent to copyFileWithinStorage().
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1074>`__.
      
      
   .. php:method:: renameFile(string $newName)
   
      Renames a file in this storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1125>`__.
      
      :param string $newName: The target path (including the file name!)
      
   .. php:method:: renameFolder()
   
      Renames a folder in this storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1155>`__.
      
      
   .. php:method:: deleteFile()
   
      Removes a file from the filesystem. This does not check if the file is
      still used or if it is a bad idea to delete it for some other reason
      this has to be taken care of in the upper layers (e.g. the Storage)!
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1198>`__.
      
      
   .. php:method:: deleteFolder()
   
      Removes a folder from this storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1218>`__.
      
      
   .. php:method:: isFolderEmpty()
   
      Checks if a folder contains files and (if supported) other folders.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1242>`__.
      
      
   .. php:method:: getFileForLocalProcessing(bool $writable)
   
      Returns (a local copy of) a file for processing it. This makes a copy
      first when in writable mode, so if you change the file, you have to update it yourself afterwards.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1269>`__.
      
      :param bool $writable: Set this to FALSE if you only need the file for read operations.
      This might speed up things, e.g. by using a cached local version.
      Never modify the file if you have set this flag!
      
   .. php:method:: getPermissions()
   
      Returns the permissions of a file/folder as an array (keys r, w) of boolean flags
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1284>`__.
      
      
   .. php:method:: isWithin(string $identifier)
   
      Checks if a given identifier is within a container, e.g. if
      a file or folder is within another folder. It will also return
      TRUE if both canonicalized identifiers are equal.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1306>`__.
      
      :param string $identifier: identifier to be checked against $folderIdentifier
      
   .. php:method:: createFile()
   
      Creates a new (empty) file and returns the identifier.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1329>`__.
      
      
   .. php:method:: getFileContents()
   
      Returns the contents of a file. Beware that this requires to load the
      complete file into memory and also may require fetching the file from an
      external location. So this might be an expensive operation (both in terms of
      processing resources and money) for large files.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1355>`__.
      
      
   .. php:method:: setFileContents()
   
      Sets the contents of a file to the specified value.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1369>`__.
      
      
   .. php:method:: getRole()
   
      Returns the role of an item (currently only folders; can later be extended for files as well)
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1389>`__.
      
      
   .. php:method:: dumpFileContents()
   
      Directly output the contents of the file to the output
      buffer. Should not take care of header files or flushing
      buffer before. Will be taken care of by the Storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1403>`__.
      
      
   .. php:method:: streamFile()
   
      Stream file using a PSR-7 Response object.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L1415>`__.
      
      :returntype: Psr\\Http\\Message\\ResponseInterface
      
   .. php:method:: getParentFolderIdentifierOfIdentifier()
   
      Returns the identifier of the folder the file resides in
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L98>`__.
      
      
   .. php:method:: setStorageUid()
   
      Sets the storage uid the driver belongs to
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L92>`__.
      
      
   .. php:method:: getCapabilities()
   
      Returns the capabilities of this driver.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L106>`__.
      
      
   .. php:method:: hasCapability(int $capability)
   
      Returns TRUE if this driver has the given capability.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L117>`__.
      
      :param int $capability: A capability, as defined in a CAPABILITY_* constant
      
   .. php:method:: hashIdentifier()
   
      Hashes a file identifier, taking the case sensitivity of the file system
      into account. This helps mitigating problems with case-insensitive
      databases.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L145>`__.
      
      
   .. php:method:: isCaseSensitiveFileSystem()
   
      Returns TRUE if this driver uses case-sensitive identifiers. NOTE: This
      is a configurable setting, but the setting does not change the way the
      underlying file system treats the identifiers; the setting should
      therefore always reflect the file system and not try to change its
      behaviour
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/LocalDriver.php#L173>`__.
