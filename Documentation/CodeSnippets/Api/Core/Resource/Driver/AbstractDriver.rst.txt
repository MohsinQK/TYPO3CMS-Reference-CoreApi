.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Core\Resource\Driver

.. php:class:: abstract AbstractDriver

   An abstract implementation of a storage driver.
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php>`__.

   
   .. php:method:: setStorageUid()
   
      Sets the storage uid the driver belongs to
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L92>`__.
      
      
   .. php:method:: getCapabilities()
   
      Returns the capabilities of this driver.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L106>`__.
      
      
   .. php:method:: hasCapability(int $capability)
   
      Returns TRUE if this driver has the given capability.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L117>`__.
      
      :param int $capability: A capability, as defined in a CAPABILITY_* constant
      
   .. php:method:: hashIdentifier()
   
      Hashes a file identifier, taking the case sensitivity of the file system
      into account. This helps mitigating problems with case-insensitive
      databases.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L145>`__.
      
      
   .. php:method:: sanitizeFileName(string $fileName, string $charset)
   
      Basic implementation of the method that does directly return the
      file name as is.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L159>`__.
      
      :param string $fileName: Input string, typically the body of a fileName
      :param string $charset: Charset of the a fileName (defaults to current charset; depending on context)
      
   .. php:method:: isCaseSensitiveFileSystem()
   
      Returns TRUE if this driver uses case-sensitive identifiers. NOTE: This
      is a configurable setting, but the setting does not change the way the
      underlying file system treats the identifiers; the setting should
      therefore always reflect the file system and not try to change its
      behaviour
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L173>`__.
      
      
   .. php:method:: processConfiguration()
   
      Processes the configuration for this driver.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L26>`__.
      
      
   .. php:method:: initialize()
   
      Initializes this object. This is called by the storage after the driver
      has been attached.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L39>`__.
      
      
   .. php:method:: mergeConfigurationCapabilities()
   
      Merges the capabilities merged by the user at the storage
      configuration into the actual capabilities of the driver
      and returns the result.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L57>`__.
      
      
   .. php:method:: getRootLevelFolder()
   
      Returns the identifier of the root level folder of the storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L103>`__.
      
      
   .. php:method:: getDefaultFolder()
   
      Returns the identifier of the default folder new files should be put into.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L110>`__.
      
      
   .. php:method:: getParentFolderIdentifierOfIdentifier()
   
      Returns the identifier of the folder the file resides in
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L118>`__.
      
      
   .. php:method:: getPublicUrl()
   
      Returns the public URL to a file.
      
      Either fully qualified URL or relative to public web path (rawurlencoded).
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L127>`__.
      
      
   .. php:method:: createFolder()
   
      Creates a folder, within a parent folder.
      
      If no parent folder is given, a root level folder will be created
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L138>`__.
      
      
   .. php:method:: renameFolder()
   
      Renames a folder in this storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L147>`__.
      
      
   .. php:method:: deleteFolder()
   
      Removes a folder in filesystem.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L156>`__.
      
      
   .. php:method:: fileExists()
   
      Checks if a file exists.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L164>`__.
      
      
   .. php:method:: folderExists()
   
      Checks if a folder exists.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L172>`__.
      
      
   .. php:method:: isFolderEmpty()
   
      Checks if a folder contains files and (if supported) other folders.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L180>`__.
      
      
   .. php:method:: addFile(string $localFilePath, string $newFileName, bool $removeOriginal)
   
      Adds a file from the local server hard disk to a given path in TYPO3s
      virtual file system. This assumes that the local file exists, so no
      further check is done here! After a successful operation the original
      file must not exist anymore.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L195>`__.
      
      :param string $localFilePath: within public web path
      :param string $newFileName: optional, if not given original name is used
      :param bool $removeOriginal: if set the original file will be removed
      after successful operation
      
   .. php:method:: createFile()
   
      Creates a new (empty) file and returns the identifier.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L204>`__.
      
      
   .. php:method:: copyFileWithinStorage()
   
      Copies a file *within* the current storage.
      
      Note that this is only about an inner storage copy action,
      where a file is just copied to another folder in the same storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L216>`__.
      
      
   .. php:method:: renameFile(string $newName)
   
      Renames a file in this storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L225>`__.
      
      :param string $newName: The target path (including the file name!)
      
   .. php:method:: replaceFile()
   
      Replaces a file with file in local file system.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L234>`__.
      
      
   .. php:method:: deleteFile()
   
      Removes a file from the filesystem. This does not check if the file is
      still used or if it is a bad idea to delete it for some other reason
      this has to be taken care of in the upper layers (e.g. the Storage)!
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L244>`__.
      
      
   .. php:method:: hash(string $hashAlgorithm)
   
      Creates a hash for a file.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L253>`__.
      
      :param string $hashAlgorithm: The hash algorithm to use
      
   .. php:method:: moveFileWithinStorage()
   
      Moves a file *within* the current storage.
      
      Note that this is only about an inner-storage move action,
      where a file is just moved to another folder in the same storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L265>`__.
      
      
   .. php:method:: moveFolderWithinStorage()
   
      Folder equivalent to moveFileWithinStorage().
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L275>`__.
      
      
   .. php:method:: copyFolderWithinStorage()
   
      Folder equivalent to copyFileWithinStorage().
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L285>`__.
      
      
   .. php:method:: getFileContents()
   
      Returns the contents of a file. Beware that this requires to load the
      complete file into memory and also may require fetching the file from an
      external location. So this might be an expensive operation (both in terms
      of processing resources and money) for large files.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L296>`__.
      
      
   .. php:method:: setFileContents()
   
      Sets the contents of a file to the specified value.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L305>`__.
      
      
   .. php:method:: fileExistsInFolder()
   
      Checks if a file inside a folder exists
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L314>`__.
      
      
   .. php:method:: folderExistsInFolder()
   
      Checks if a folder inside a folder exists.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L323>`__.
      
      
   .. php:method:: getFileForLocalProcessing(bool $writable)
   
      Returns a path to a local copy of a file for processing it. When changing the
      file, you have to take care of replacing the current version yourself!
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L336>`__.
      
      :param bool $writable: Set this to FALSE if you only need the file for read
      operations. This might speed up things, e.g. by using
      a cached local version. Never modify the file if you
      have set this flag!
      
   .. php:method:: getPermissions()
   
      Returns the permissions of a file/folder as an array
      (keys r, w) of boolean flags
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L345>`__.
      
      
   .. php:method:: dumpFileContents()
   
      Directly output the contents of the file to the output
      buffer. Should not take care of header files or flushing
      buffer before. Will be taken care of by the Storage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L354>`__.
      
      
   .. php:method:: isWithin(string $identifier)
   
      Checks if a given identifier is within a container, e.g. if
      a file or folder is within another folder.
      
      This can e.g. be used to check for web-mounts.
      
      Hint: this also needs to return TRUE if the given identifier
      matches the container identifier to allow access to the root
      folder of a filemount.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L369>`__.
      
      :param string $identifier: identifier to be checked against $folderIdentifier
      
   .. php:method:: getFileInfoByIdentifier(array $propertiesToExtract)
   
      Returns information about a file.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L379>`__.
      
      :param array $propertiesToExtract: Array of properties which are be extracted
      If empty all will be extracted
      
   .. php:method:: getFolderInfoByIdentifier()
   
      Returns information about a file.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L387>`__.
      
      
   .. php:method:: getFileInFolder()
   
      Returns the identifier of a file inside the folder
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L396>`__.
      
      
   .. php:method:: getFilesInFolder(array $filenameFilterCallbacks, string $sort, bool $sortRev)
   
      Returns a list of files inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L414>`__.
      
      :param array $filenameFilterCallbacks: callbacks for filtering the items
      :param string $sort: Property name used to sort the items.
      Among them may be: '' (empty, no sorting), name,
      fileext, size, tstamp and rw.
      If a driver does not support the given property, it
      should fall back to "name".
      :param bool $sortRev: TRUE to indicate reverse sorting (last to first)
      
   .. php:method:: getFolderInFolder(string $folderName)
   
      Returns the identifier of a folder inside the folder
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L423>`__.
      
      :param string $folderName: The name of the target folder
      
   .. php:method:: getFoldersInFolder(array $folderNameFilterCallbacks, string $sort, bool $sortRev)
   
      Returns a list of folders inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L442>`__.
      
      :param array $folderNameFilterCallbacks: callbacks for filtering the items
      :param string $sort: Property name used to sort the items.
      Among them may be: '' (empty, no sorting), name,
      fileext, size, tstamp and rw.
      If a driver does not support the given property, it
      should fall back to "name".
      :param bool $sortRev: TRUE to indicate reverse sorting (last to first)
      
   .. php:method:: countFilesInFolder(array $filenameFilterCallbacks)
   
      Returns the number of files inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L452>`__.
      
      :param array $filenameFilterCallbacks: callbacks for filtering the items
      
   .. php:method:: countFoldersInFolder(array $folderNameFilterCallbacks)
   
      Returns the number of folders inside the specified path
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/core/Classes/Resource/Driver/AbstractDriver.php#L462>`__.
      
      :param array $folderNameFilterCallbacks: callbacks for filtering the items
