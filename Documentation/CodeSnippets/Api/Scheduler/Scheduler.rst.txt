.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Scheduler

.. php:class:: Scheduler

   TYPO3 Scheduler. This class handles scheduling and execution of tasks.
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php>`__.

   .. php:attr:: extConf
   
      
   .. php:method:: addTask(\Task\AbstractTask $task)
   
      Adds a task to the pool
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L65>`__.
      
      :param \Task\AbstractTask $task: The object representing the task to add
      
   .. php:method:: executeTask(\Task\AbstractTask $task)
   
      This method executes the given task and properly marks and records that execution
      It is expected to return FALSE if the task was barred from running or if it was not saved properly
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L158>`__.
      
      :param \Task\AbstractTask $task: The task to execute
      
   .. php:method:: recordLastRun(string $type)
   
      This method stores information about the last run of the Scheduler into the system registry
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L217>`__.
      
      :param string $type: Type of run (manual or command-line (assumed to be cron))
      
   .. php:method:: removeTask(\Task\AbstractTask $task)
   
      Removes a task completely from the system.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L236>`__.
      
      :param \Task\AbstractTask $task: The object representing the task to delete
      
   .. php:method:: saveTask(TYPO3\\CMS\\Scheduler\\Task\\AbstractTask task)
   
      Update a task in the pool.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L253>`__.
      
      :param TYPO3\\CMS\\Scheduler\\Task\\AbstractTask $task: the task
      :returntype: bool
      
   .. php:method:: fetchTask(int $uid)
   
      Fetches and unserializes a task object from the db. If a uid is given the object
      with the uid is returned, else the object representing the next due task is returned.
      
      If there are no due tasks the method throws an exception.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L304>`__.
      
      :param int $uid: Primary key of a task
      :returntype: TYPO3\\CMS\\Scheduler\\Task\\AbstractTask
      :returns: The fetched task object
      
   .. php:method:: fetchTaskRecord(int $uid)
   
      This method is used to get the database record for a given task
      It returns the database record and not the task object
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L392>`__.
      
      :param int $uid: Primary key of the task to get
      
   .. php:method:: fetchTasksWithCondition(string $where, bool $includeDisabledTasks)
   
      Fetches and unserializes task objects selected with some (SQL) condition
      Objects are returned as an array
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L421>`__.
      
      :param string $where: Part of a SQL where clause (without the "WHERE" keyword)
      :param bool $includeDisabledTasks: TRUE if disabled tasks should be fetched too, FALSE otherwise
      
   .. php:method:: isValidTaskObject(object $task)
   
      This method encapsulates a very simple test for the purpose of clarity.
      
      Registered tasks are stored in the database along with a serialized task object.
      When a registered task is fetched, its object is unserialized.
      At that point, if the class corresponding to the object is not available anymore
      (e.g. because the extension providing it has been uninstalled),
      the unserialization will produce an incomplete object.
      This test checks whether the unserialized object is of the right (parent) class or not.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L474>`__.
      
      :param object $task: The object to test
      
   .. php:method:: log(string $message, int $status, mixed $code)
   
      This is a utility method that writes some message to the BE Log
      It could be expanded to write to some other log
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/scheduler/Classes/Scheduler.php#L487>`__.
      
      :param string $message: The message to write to the log
      :param int $status: Status (0 = message, 1 = error)
      :param mixed $code: Key for the message
