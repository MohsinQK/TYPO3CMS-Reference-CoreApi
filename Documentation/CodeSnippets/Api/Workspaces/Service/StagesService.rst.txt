.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Workspaces\Service

.. php:class:: StagesService

   Stages service
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php>`__.

   .. php:const:: TABLE_STAGE
   
      :php:`'sys_workspace_stage'`, type string
      
      .. php:const:: STAGE_PUBLISH_EXECUTE_ID
   
      :php:`-20`, type integer
      
      .. php:const:: STAGE_PUBLISH_ID
   
      :php:`-10`, type integer
      
      .. php:const:: STAGE_EDIT_ID
   
      :php:`0`, type integer
      
      
   
   .. php:method:: getWorkspaceId()
   
      Getter for current workspace id
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L65>`__.
      
      
   .. php:method:: getPreviousStageForElementCollection()
   
      Find the highest possible "previous" stage for all $byTableName
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L77>`__.
      
      
   .. php:method:: getNextStageForElementCollection()
   
      Retrieve the next stage based on the lowest stage given in the $workspaceItems record array.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L125>`__.
      
      
   .. php:method:: getStagesForWS()
   
      Building an array with all stage ids and titles related to the given workspace
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L171>`__.
      
      
   .. php:method:: getStagesForWSUser()
   
      Returns an array of stages, the user is allowed to send to
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L189>`__.
      
      
   .. php:method:: getStageTitle()
   
      Gets the title of a stage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L258>`__.
      
      
   .. php:method:: getStageRecord()
   
      Gets a particular stage record.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L285>`__.
      
      
   .. php:method:: getNextStage(int $stageId)
   
      Gets next stage in process for given stage id
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L297>`__.
      
      :param int $stageId: Id of the stage to fetch the next one for
      
   .. php:method:: getNextStages(array $nextStageArray, int $stageId)
   
      Recursive function to get all next stages for a record depending on user permissions
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L337>`__.
      
      :param array $nextStageArray: Next stages
      :param int $stageId: Current stage id of the record
      
   .. php:method:: getPrevStage(int $stageId)
   
      Get next stage in process for given stage id
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L366>`__.
      
      :param int $stageId: Id of the stage to fetch the previous one for
      
   .. php:method:: getPrevStages(array $prevStageArray, int $stageId)
   
      Recursive function to get all prev stages for a record depending on user permissions
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L398>`__.
      
      :param array $prevStageArray: Prev stages
      :param int $stageId: Current stage id of the record
      
   .. php:method:: getResponsibleBeUser(\StageRecord|int $stageRecord, bool $selectDefaultUserField)
   
      Gets all backend user records that are considered to be responsible
      for a particular stage or workspace.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L424>`__.
      
      :param \StageRecord|int $stageRecord: Stage
      :param bool $selectDefaultUserField: If field notification_defaults should be selected instead of responsible users
      
   .. php:method:: resolveBackendUserIds()
   
      Resolves backend user ids from a mixed list of backend users
      and backend user groups (e.g. "be_users_1,be_groups_3,be_users_4,...")
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L453>`__.
      
      
   .. php:method:: getBackendUsers()
   
      Gets backend user records from a given list of ids.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L487>`__.
      
      
   .. php:method:: getPreselectedRecipients()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L509>`__.
      
      
   .. php:method:: getPropertyOfCurrentWorkspaceStage()
   
      Gets a property of a workspaces stage.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L536>`__.
      
      
   .. php:method:: getPositionOfCurrentStage()
   
      Gets the position of the given workspace in the hole process
      f.e. 3 means step 3 of 20, by which 1 is edit and 20 is ready to publish
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L559>`__.
      
      
   .. php:method:: isPrevStageAllowedForUser()
   
      Check if the user has access to the previous stage, relative to the given stage
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L588>`__.
      
      
   .. php:method:: isNextStageAllowedForUser()
   
      Check if the user has access to the next stage, relative to the given stage
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L610>`__.
      
      
   .. php:method:: isValid(int $stageId)
   
      Determines whether a stage Id is valid.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L647>`__.
      
      :param int $stageId: The stage Id to be checked
      
   .. php:method:: getRecordService()
   
      
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/workspaces/Classes/Service/StagesService.php#L663>`__.
