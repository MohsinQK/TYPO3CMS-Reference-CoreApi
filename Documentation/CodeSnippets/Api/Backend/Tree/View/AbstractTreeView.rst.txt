.. Generated by https://github.com/linawolf/t3docs_restructured_api_tools 
.. php:namespace::  TYPO3\CMS\Backend\Tree\View

.. php:class:: abstract AbstractTreeView

   Base class for creating a browsable array/page/folder tree in HTML
   
   See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php>`__.

   .. php:attr:: thisScript
   
      
   .. php:attr:: title
   
      
   .. php:attr:: BE_USER
   
      Needs to be initialized with $GLOBALS['BE_USER']
      Done by default in init()
      
      
   .. php:attr:: table
   
      Database table to get the tree data from.
      
      Leave blank if data comes from an array.
      
      
   .. php:attr:: parentField
   
      Defines the field of $table which is the parent id field (like pid for table pages).
      
      
   .. php:attr:: clause
   
      WHERE clause used for selecting records for the tree. Is set by function init.
      
      
   .. php:attr:: orderByFields
   
      Field for ORDER BY. Is set by function init.
      
      
   .. php:attr:: fieldArray
   
      Default set of fields selected from the tree table.
      
      Make SURE that these fields names listed herein are actually possible to select from $this->table (if that variable is set to a TCA table name)
      
      
   .. php:attr:: defaultList
   
      List of other fields which are ALLOWED to set (here, based on the "pages" table!)
      
      
   .. php:attr:: makeHTML
   
      If 1, HTML code is also accumulated in ->tree array during rendering of the tree
      
      
   .. php:attr:: ids
   
      
   .. php:attr:: ids_hierarchy
   
      
   .. php:attr:: orig_ids_hierarchy
   
      
   .. php:attr:: buffer_idH
   
      
   .. php:attr:: tree
   
      
   .. php:method:: init(string $clause, string $orderByFields)
   
      Initialize the tree class. Needs to be overwritten
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L203>`__.
      
      :param string $clause: Record WHERE clause
      :param string $orderByFields: Record ORDER BY field
      
   .. php:method:: addField(string $field, bool $noCheck)
   
      Adds a fieldname to the internal array ->fieldArray
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L222>`__.
      
      :param string $field: Field name to
      :param bool $noCheck: If set, the fieldname will be set no matter what. Otherwise the field name must either be found as key in $GLOBALS['TCA'][$table]['columns'] or in the list ->defaultList
      
   .. php:method:: reset()
   
      Resets the tree, recs, ids, ids_hierarchy and orig_ids_hierarchy internal variables. Use it if you need it.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L232>`__.
      
      
   .. php:method:: addTagAttributes(string $icon, string $attr)
   
      Adds attributes to image tag.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L288>`__.
      
      :param string $icon: Icon image tag
      :param string $attr: Attributes to add, eg. ' border="0"'
      
   .. php:method:: getRootIcon(array $rec)
   
      Returns the root icon for a tree/mountpoint (defaults to the globe)
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L324>`__.
      
      :param array $rec: Record for root.
      
   .. php:method:: getIcon(array $row)
   
      Get the icon markup for the row
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L336>`__.
      
      :param array $row: The row to get the icon for
      :returntype: string
      :returns: The icon markup, wrapped into a span tag, with the records title as title attribute
      
   .. php:method:: getTitleStr(array $row, int $titleLen)
   
      Returns the title for the input record. If blank, a "no title" label (localized) will be returned.
      
      Do NOT htmlspecialchar the string from this function - has already been done.
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L352>`__.
      
      :param array $row: The input row array (where the key "title" is used for the title)
      :param int $titleLen: Title length (30)
      
   .. php:method:: getTitleAttrib(array $row)
   
      Returns the value for the image "title" attribute
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L364>`__.
      
      :param array $row: The input row array (where the key "title" is used for the title)
      
   .. php:method:: getTree(int $uid, int $depth, string $depthData)
   
      Fetches the data for the tree
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L382>`__.
      
      :param int $uid: item id for which to select subitems (parent id)
      :param int $depth: Max depth (recursivity limit)
      :param string $depthData: HTML-code prefix for recursive calls.
      
   .. php:method:: getRootRecord()
   
      Returns root record for uid (<=0)
      
      See source code on `GitHub <https://github.com/TYPO3/typo3/blob/main/typo3/sysext/backend/Classes/Tree/View/AbstractTreeView.php#L495>`__.
